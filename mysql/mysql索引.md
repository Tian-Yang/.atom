#MySql知识整理

##索引
* 数据索引的存储是有序的
* 在有序的情况下，通过索引查询一个数据是无需遍历索引记录
* 极端情况下，数据索引的查询效率为二分查询效率，趋近于log2(N)

##索引的数据结构

###二叉树
* 定义：每个节点都最多只有两个子节点都树
![二叉树](/assets/二叉树.jpg '二叉树')


#### 完全二叉树
* 定义：高度为k的二叉树，其1~h-1层为满结点，且其h层（叶子结点层）的节点从左至右依次排列（最多2^h-1个，最少0个）
![完全二叉树](/assets/完全二叉树.jpg)

#### 满二叉树
* 定义：除最后一层外，每个结点都有左右子结点的二叉树
![满二叉树](/assets/满二叉树.jpg)

#### 平衡二叉树
* 定义：任一结点的左右子树的高度差绝对值不超过1，且左右子树均为平衡二叉树（防止树退化成链表）

![平衡二叉树](/assets/平衡二叉树.jpg)

#### 二叉树遍历
结点本身N，结点左子树L，结点右子树R
* 先序：NLR
* 中序：LNR
* 后序：LRN

### B树
* 本质：平衡m阶查找树
* 定义：
  1. 阶数：观整棵树，子节点最多的个数是m，那么这棵树就是m阶树。
  2. 关键字:B树每个节点有K（K>0）个关键字（根节点除外，根节点没有关键字时树为空）
  3. 度数：在树中，每个节点的子节点（子树）的个数就称为该节点的度（degree）。
* 规则
  1. 每个节点最多有m-1个关键字
  2. 根节点最少可以只有1个关键字
  3. 非根节点至少有m/2个关键字
  4. 非根节点和叶子节点的其他节点，分支数 > (阶数 / 2)，若5阶B树则非叶子节点分支数至少为3
  5. 排序方式：所有节点关键字是按递增次序排列，并遵循左小右大原则；

![3阶B树](/assets/3阶B树.png)

![B树](/assets/B树.jpg)

#### B树插入
  * 规则
    1. 判断当前结点key的个数是否小于等于m-1，如果满足，直接插入即可
    2. 如果不满足，将节点的中间的key将这个节点分为左右两部分，中间的节点放到父节点中即可。

  * 例如有一颗5阶树

  * 插入22
